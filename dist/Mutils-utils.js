!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Mutils=e():t.Mutils=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t,e=1){if(0===t.length)return[];let n=[],r=[];return t.forEach((t=>{0===r.length&&n.push(r),r.push(t),r.length===e&&(r=[])})),n}function r(t,...e){const n=[...t];return e.forEach((t=>{Array.isArray(t)?n.push(...t):n.push(t)})),n}function o(t,e,n){if(0===t.length)return[];if((e=e||0)>=t.length)return[];if((n=n||t.length)>t.length&&(n=t.length),n<=e)return[];const r=[];for(let o=0;o<t.length;o++)o>=e&&o<n&&r.push(t[o]);return r}function c(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(e(t[r],r));return n}function u(t,e,n){let r=n;for(let n=0;n<t.length;n++)r=e(r,t[n]);return r}function l(t,e){let n=[];for(let r=0;r<t.length;r++)e(t[r],r)&&n.push(t[r]);return n}function i(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n))return t[n]}function s(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n))return n;return-1}function a(t,e){for(let n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function f(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}function p(t,e=[]){return 0===t.length?[]:0===e.length?t.slice():t.filter((t=>-1===e.indexOf(t)))}function h(t,e){return t.filter(((t,n)=>n>=e))}function d(t,e){return t.filter(((n,r)=>r<=t.length-e))}function y(t){let e=[];return t.forEach((t=>{e=Array.isArray(t)?e.concat(y(t)):e.concat(t)})),e}function b(t){let e=[...t];for(;e.some((t=>Array.isArray(t)));)e=[].concat(...e);return e}function g(t,...e){const n=[];for(let r=0;r<t.length;r++)e.includes(t[r])&&(n.push(t[r]),t.splice(r,1),r--);return n}function m(t,e){return g(t,...e)}function O(t){const e=[];return t.forEach((t=>{-1===e.indexOf(t)&&e.push(t)})),e}function k(t){const e=[],n={};return t.forEach((t=>{void 0===n[t]&&(n[t]=!0,e.push(t))})),e}function j(t){return[...new Set(t)]}function E({url:t,method:e="GET",params:n={},data:r={}}){return e=e.toUpperCase(),new Promise(((o,c)=>{var u=new XMLHttpRequest;let l="";for(let t in n)l+=`${t}=${n[t]}&`;l=l.slice(0,-1),u.open(e,t+"?"+l),"POST"===e||"PUT"===e||"DELETE"===e?(u.setRequestHeader("Content-type","application/json"),u.send(JSON.stringify(r))):u.send(),u.responseType="json",u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<=299?o({status:u.status,message:u.statusText,body:u.response}):c(new Error("请求失败, 失败的状态码为"+u.status)))}}))}function w(t,e,n,r){"string"==typeof t&&(t=document.querySelector(t)),r?t.addEventListener(e,(function(t){const e=t.target;e.matches(r)&&n.call(e,t)})):t.addEventListener(e,n)}t.r(e),t.d(e,{PubSub:()=>N,addEventListene:()=>w,apply:()=>v,axios:()=>E,bind:()=>P,call:()=>A,chunk:()=>n,clone1:()=>x,clone2:()=>L,concat:()=>r,debounce:()=>S,deepClone1:()=>C,deepClone2:()=>M,deepClone3:()=>q,deepClone4:()=>D,difference:()=>p,drop:()=>h,dropRight:()=>d,eventBus:()=>T,every:()=>a,filter:()=>l,find:()=>i,findIndex:()=>s,flatten1:()=>y,flatten2:()=>b,map:()=>c,mergeObject:()=>F,myInstanceOf:()=>I,newInstance:()=>J,palindrome:()=>U,pull:()=>g,pullAll:()=>m,reduce:()=>u,reverseString:()=>R,runOnKeys:()=>G,slice:()=>o,some:()=>f,throttle:()=>_,unique:()=>O,unique2:()=>k,unique3:()=>j}),E.get=function(t,e){return E(Object.assign(e,{method:"GET",url:t}))},E.post=function(t,e){return E(Object.assign(e,{method:"POST",url:t}))},E.put=function(t,e){return E(Object.assign(e,{method:"PUT",url:t}))},E.delete=function(t,e){return E(Object.assign(e,{method:"DELETE",url:t}))};const T={callbacks:{}};function v(t,e,n){null==e&&(e=window),e.tempFn=t;const r=e.tempFn(...n);return delete e.tempFn,r}function A(t,e,...n){null==e&&(e=globalThis),e.temp=t;let r=e.temp(...n);return delete e.temp,r}function P(t,e,...n){return(...r)=>A(t,e,...n,...r)}function S(t,e=200,n=!1,r){let o=null,c=!1;const u=function(...u){return new Promise(((l,i)=>{if(o&&clearTimeout(o),n&&!c){const e=t.apply(this,u);r&&r(e),l(e),c=!0}else o=setTimeout((()=>{const e=t.apply(this,u);r&&r(e),l(e),c=!1,o=null}),e)}))};return u.cancel=function(){o&&clearTimeout(o),o=null,c=!1},u}function _(t,e,n={leading:!0,trailing:!1}){const{leading:r,trailing:o,resultCallback:c}=n;let u=0,l=null;const i=function(...n){return new Promise(((i,s)=>{const a=(new Date).getTime();u||r||(u=a);const f=e-(a-u);if(f<=0){l&&(clearTimeout(l),l=null);const e=t.apply(this,n);return c&&c(e),i(e),void(u=a)}o&&!l&&(l=setTimeout((()=>{l=null,u=r?(new Date).getTime():0;const e=t.apply(this,n);c&&c(e),i(e)}),f))}))};return i.cancel=function(){l&&clearTimeout(l),l=null,u=0},i}function x(t){return"object"==typeof t&&null!==t?Array.isArray(t)?[...t]:{...t}:t}function L(t){if("object"==typeof t&&null!==t){const e=Array.isArray(t)?[]:{};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}return t}function C(t){let e=JSON.stringify(t);return JSON.parse(e)}function M(t){if(null!==t&&"object"==typeof t){const e=Array.isArray(t)?[]:{};for(const n in t)t.hasOwnProperty(n)&&(e[n]=M(t[n]));return e}return t}function q(t,e=new Map){if(null!==t&&"object"==typeof t){let n=e.get(t);if(n)return n;const r=Array.isArray(t)?[]:{};e.set(t,r);for(const n in t)t.hasOwnProperty(n)&&(r[n]=q(t[n],e));return r}return t}function D(t,e=new Map){if(null!==t&&"object"==typeof t){let n=e.get(t);if(n)return n;let r=Array.isArray(t);const o=r?[]:{};return e.set(t,o),r?t.forEach(((t,n)=>{o[n]=D(t,e)})):Object.keys(t).forEach((n=>{o[n]=D(t[n],e)})),o}return t}function F(...t){const e={};return t.forEach((t=>{Object.keys(t).forEach((n=>{e.hasOwnProperty(n)?e[n]=[].concat(e[n],t[n]):e[n]=t[n]}))})),e}function I(t,e){let n=e.prototype,r=t.__proto__;for(;r;){if(n===r)return!0;r=r.__proto__}return!1}function J(t,...e){const n={},r=t.call(n,...e);return t.prototype,r instanceof Object?r:n}T.on=function(t,e){this.callbacks[t]?this.callbacks[t].push(e):this.callbacks[t]=[e]},T.emit=function(t,e){this.callbacks[t]&&this.callbacks[t].length>0&&this.callbacks[t].forEach((t=>{t(e)}))},T.off=function(t){t?delete this.callbacks[t]:this.callbacks={}};const N={id:1,callbacks:{}};function R(t){let e=[...t];return e.reverse(),e.join("")}function U(t){return R(t)===t}function G(t,...e){let n=new Set;document.addEventListener("keydown",(function(r){n.add(r.code);for(let t of e)if(!n.has(t))return;n.clear(),t()})),document.addEventListener("keyup",(function(t){n.delete(t.code)}))}return N.subscribe=function(t,e){let n="token_"+this.id++;return this.callbacks[t]?this.callbacks[t][n]=e:this.callbacks[t]={[n]:e},n},N.publish=function(t,e){this.callbacks[t]&&Object.values(this.callbacks[t]).forEach((t=>{t(e)}))},N.unsubscribe=function(t){if(void 0===t)this.callbacks={};else if("string"==typeof t)if(0===t.indexOf("token_")){const e=Object.values(this.callbacks).find((e=>e.hasOwnProperty(t)));e&&delete e[t]}else delete this.callbacks[t]},e})()}));